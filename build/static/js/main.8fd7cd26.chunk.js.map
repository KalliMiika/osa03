{"version":3,"sources":["components/person.js","components/persons.js","app.js","index.js"],"names":["Person","person","name","number","Persons","persons","searchKey","personsToShow","filter","toLowerCase","includes","map","key","id","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchKey","useEffect","console","log","axios","get","then","response","data","value","onChange","event","target","onSubmit","preventDefault","find","alert","personObject","post","concat","type","res","ReactDOM","render","document","getElementById"],"mappings":"uPAUeA,EARA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACd,OACE,6BACGA,EAAOC,KADV,IACiBD,EAAOE,SCUfC,EAZC,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAClBC,EAAgBF,EAAQG,QAAO,SAAAP,GAAM,OAAIA,EAAOC,KAAKO,cAAcC,SAASJ,EAAUG,kBAE5F,OACI,oCACCF,EAAcI,KAAI,SAAAV,GAAM,OACvB,kBAAC,EAAD,CAAQW,IAAKX,EAAOY,GAAIZ,OAAQA,SCmF3Ba,EAtFH,WAAO,IAAD,EAEeC,mBAAS,IAFxB,mBAERV,EAFQ,KAECW,EAFD,OAGgBD,mBAAS,IAHzB,mBAGRE,EAHQ,KAGCC,EAHD,OAIoBH,mBAAS,IAJ7B,mBAIRI,EAJQ,KAIGC,EAJH,OAKoBL,mBAAS,IAL7B,mBAKRT,EALQ,KAKGe,EALH,KAiBhBC,qBAVa,WACXC,QAAQC,IAAI,UACZC,IACGC,IAZS,gBAaTC,MAAK,SAAAC,GACJL,QAAQC,IAAI,qBACZR,EAAWY,EAASC,WAIV,IAoChB,OACE,6BACE,yCADF,aAGE,2BACEC,MAAOxB,EACPyB,SAhCwB,SAACC,GAC7BT,QAAQC,IAAIQ,EAAMC,OAAO/B,KAAM,KAAM8B,EAAMC,OAAOH,OAClDT,EAAaW,EAAMC,OAAOH,UAgCxB,yCACA,0BAAMI,SA9BQ,SAACF,GAEjB,GADAA,EAAMG,iBACH9B,EAAQ+B,MAAK,SAAAnC,GAAM,OAAIA,EAAOC,OAASe,KACtCoB,MAAM,GAAD,OAAIpB,EAAJ,uCAEJ,CACH,IAAMqB,EAAe,CACnBpC,KAAMe,EACNd,OAAQgB,GAEVM,IACGc,KA7CO,eA6COD,GACdX,MAAK,SAAAC,GACJL,QAAQC,IAAII,MAEhBZ,EAAWX,EAAQmC,OAAOF,IAC1BpB,EAAW,IACXE,EAAa,OAcT,qCAEE,2BACEU,MAAOb,EACPc,SAhDa,SAACC,GACtBT,QAAQC,IAAIQ,EAAMC,OAAO/B,KAAM,KAAM8B,EAAMC,OAAOH,OAClDZ,EAAWc,EAAMC,OAAOH,WAiDpB,uCAEE,2BACEA,MAAOX,EACPY,SAnDe,SAACC,GAC1BT,QAAQC,IAAIQ,EAAMC,OAAO/B,KAAM,KAAM8B,EAAMC,OAAOH,OAClDV,EAAaY,EAAMC,OAAOH,WAoDpB,4BAAQW,KAAK,UAAb,QAEJ,uCACA,kBAAC,EAAD,CAASpC,QAASA,EAASC,UAAWA,MC/E5CmB,IAAMC,IAAI,gBAAgBC,MAAK,SAAAe,GAC3B,IAAMrC,EAAUqC,EAAIb,KACpBc,IAASC,OACL,kBAAC,EAAD,CAAKvC,QAASA,IACdwC,SAASC,eAAe,c","file":"static/js/main.8fd7cd26.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person }) => {\r\n    return(\r\n      <div>\r\n        {person.name} {person.number}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './person'\r\n\r\nconst Persons = ({ persons, searchKey }) => {\r\n    const personsToShow = persons.filter(person => person.name.toLowerCase().includes(searchKey.toLowerCase()))\r\n\r\n    return(\r\n        <>\r\n        {personsToShow.map(person => \r\n          <Person key={person.id} person={person}/>\r\n        )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Persons from './components/persons'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst App = () => {\r\n  \r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchKey, setSearchKey ] = useState('')\r\n\r\n  const hook = () => {\r\n    console.log('effect')\r\n    axios\r\n      .get(baseUrl)\r\n      .then(response => {\r\n        console.log('promise fulfilled')\r\n        setPersons(response.data)\r\n      })\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  const handleNameChange = (event) => {\r\n      console.log(event.target.name, ': ', event.target.value)\r\n      setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.name, ': ', event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleSearchKeyChange = (event) => {\r\n    console.log(event.target.name, ': ', event.target.value)\r\n    setSearchKey(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    if(persons.find(person => person.name === newName)){\r\n        alert(`${newName} is already added to phonebook`)\r\n    }\r\n    else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      axios\r\n        .post(baseUrl, personObject)\r\n        .then(response => {\r\n          console.log(response)\r\n        })\r\n      setPersons(persons.concat(personObject))\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      filter by: \r\n      <input\r\n        value={searchKey}\r\n        onChange={handleSearchKeyChange}\r\n       />\r\n      <h2>Add a new</h2>\r\n      <form onSubmit={addPerson}>\r\n          <div>\r\n            name: \r\n            <input\r\n              value={newName}\r\n              onChange={handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            number: \r\n            <input\r\n              value={newNumber}\r\n              onChange={handleNumberChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\">add</button>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} searchKey={searchKey}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\n\nimport axios from 'axios'\n\naxios.get('/api/persons').then(res => {\n    const persons = res.data\n    ReactDOM.render(\n        <App persons={persons} />,\n        document.getElementById('root')\n    )\n})\n"],"sourceRoot":""}